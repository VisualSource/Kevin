!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).Core={})}(this,(function(e){"use strict";var t;(t=e.Events||(e.Events={})).REQUEST_DECK="request_deck",t.READY="ready",t.TURN_CHANGE="turn_change",t.KICK="kick",t.GAME_START="game_start",t.JOIN_CODE="join_code",t.AI_DIFFICLTY="ai_difficlty",t.INIT="init",t.STATUS_OPPONENT="status_opponent",t.NEW_GAME="new_game",t.WEBSOCKET_READY="websocket_ready",t.SOCKET_RECONNECT="socket_reconnect",t.SOCKET_DISCONNECT="socket_disconnect",t.JOIN_GAME="join_game",t.SEND_DECK="send_deck";e.EventHandler=class{constructor(){this.listeners={}}addListener(e,t){return this.listeners[e]=t,this}removeListener(e){return delete this.listeners[e],this}emit(e,t){return this.listeners[e].apply(void 0,t),this}},e.clientID=function(){const e=[];for(let t=0;t<256;++t)e.push((t+256).toString(16).substr(1));function t(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:return t^n^r;case 2:return t&n^t&r^n&r;case 3:return t^n^r}}function n(e,t){return e<<t|e>>>32-t}return(r=80,o=function(e){const r=[1518500249,1859775393,2400959708,3395469782],o=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=[];for(let n=0;n<t.length;++n)e.push(t.charCodeAt(n))}e.push(128);const s=e.length/4+2,c=Math.ceil(s/16),i=new Array(c);for(let t=0;t<c;++t){const n=new Uint32Array(16);for(let r=0;r<16;++r)n[r]=e[64*t+4*r]<<24|e[64*t+4*r+1]<<16|e[64*t+4*r+2]<<8|e[64*t+4*r+3];i[t]=n}i[c-1][14]=8*(e.length-1)/Math.pow(2,32),i[c-1][14]=Math.floor(i[c-1][14]),i[c-1][15]=8*(e.length-1)&4294967295;for(let e=0;e<c;++e){const s=new Uint32Array(80);for(let t=0;t<16;++t)s[t]=i[e][t];for(let e=16;e<80;++e)s[e]=n(s[e-3]^s[e-8]^s[e-14]^s[e-16],1);let c=o[0],a=o[1],u=o[2],f=o[3],l=o[4];for(let e=0;e<80;++e){const o=Math.floor(e/20),i=n(c,5)+t(o,a,u,f)+l+r[o]+s[e]>>>0;l=f,f=u,u=n(a,30)>>>0,a=c,c=i}o[0]=o[0]+c>>>0,o[1]=o[1]+a>>>0,o[2]=o[2]+u>>>0,o[3]=o[3]+f>>>0,o[4]=o[4]+l>>>0}return[o[0]>>24&255,o[0]>>16&255,o[0]>>8&255,255&o[0],o[1]>>24&255,o[1]>>16&255,o[1]>>8&255,255&o[1],o[2]>>24&255,o[2]>>16&255,o[2]>>8&255,255&o[2],o[3]>>24&255,o[3]>>16&255,o[3]>>8&255,255&o[3],o[4]>>24&255,o[4]>>16&255,o[4]>>8&255,255&o[4]]},function(t,n,s,c){if("string"==typeof t&&(t=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(t)),"string"==typeof n&&(n=function(e){const t=[];return e.replace(/[a-fA-F0-9]{2}/g,(function(e){t.push(parseInt(e,16))})),t}(n)),!Array.isArray(t))throw TypeError("value must be an array of bytes");if(!Array.isArray(n)||16!==n.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");const i=o(n.concat(t));if(i[6]=15&i[6]|r,i[8]=63&i[8]|128,s){c=c||0;for(let e=0;e<16;++e)s[c+e]=i[e];return s}return function(t,n){const r=n||0;return(e[t[r+0]]+e[t[r+1]]+e[t[r+2]]+e[t[r+3]]+"-"+e[t[r+4]]+e[t[r+5]]+"-"+e[t[r+6]]+e[t[r+7]]+"-"+e[t[r+8]]+e[t[r+9]]+"-"+e[t[r+10]]+e[t[r+11]]+e[t[r+12]]+e[t[r+13]]+e[t[r+14]]+e[t[r+15]]).toLowerCase()}(i)})(`${self.navigator.userAgent}/${self.navigator.product}`,"f621b2c5-8166-4b27-8f21-b5b18576e7c6 ");var r,o},e.errorReply=function(e,t){postMessage({type:"error",name:e,data:[t]},null)},e.reply=function(e,t){postMessage({type:"msg",name:e,data:[t]},null)},Object.defineProperty(e,"__esModule",{value:!0})}));
